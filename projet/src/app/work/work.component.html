<h1 id="non-printable"
  style="text-align: center;margin-top: 3%;margin-bottom: 3%; text-shadow: 2px 4px 3px rgba(0,0,0,0.3); font-size: 600%;">
  Etiquetage des produits </h1>
<div class="row">

  <div class="col-md-12">
    <div id="non-printable" class=" col-md-12 main-card mb-3 card" style="margin-top:  0%;">
      <div class="card-body">
        <section [formGroup]="form">

          <mat-form-field class="custom-width" style="width: 25%;">
            <mat-label>N° d'ordre de Fabrication</mat-label>
            <input matInput placeholder="ordre de Fabrication" [(ngModel)]="form.of" formControlName="of" #ref_of
              (keypress)="set_of($event)"> 
          </mat-form-field>
          <img src="./../../assets/images/trash-bin.png" (click)="sup_of()" width="20px" height="20px">
          <mat-form-field class="custom-width" style="margin-left: 5%; width: 25%;">
            <mat-label>Matricule Agent</mat-label>
            <input matInput placeholder="Agent" [(ngModel)]="form.agent" formControlName="agent" #ref_agent
              (keypress)="set_agent($event)">
          </mat-form-field>
          <img src="./../../assets/images/trash-bin.png" (click)="sup_agent()" width="20px" height="20px">

          <img *ngIf="btnlock" style="margin-left: 3%;" src="./../../assets/images/lock.png" width="50px" height="50px"
            (click)="lock()">
          <img *ngIf="btnlock==false" style="margin-left: 3%;" src="./../../assets/images/unlock.png" width="50px"
            height="50px" (click)="lock()">

          <mat-form-field class="custom-width" style="margin-left: 5%; width: 25%;">
            <mat-label>Code à barres Produit</mat-label>
            <input matInput placeholder="code" [(ngModel)]="form.code" formControlName="code"
              (keypress)="g_code($event)">
          </mat-form-field>

        </section>
      </div>
    </div>
    <div class="row">
      <div id="non-printable" class="col-md-6" fxLayout="row wrap">
        <div class="row col-md-12" id="non-printable">

          <div class="col-md-6  main-card mb-2 card " style="margin-left: 1%; margin-top: 0%;     ">
            <div width="100%" style="text-align: center; margin-top: 6%;  ">
              <img src="./../../assets/images/carton.png" width="160px" height="120px" />
              <h3>N° Emballages 100 : {{nb_print_carton_100}}</h3>
            </div>
            <div width="100%" style="text-align: center; margin-top: 6%;  ">
              <img src="./../../assets/images/prdoduit.png" width="160px" height="120px" />
              <h3>N° Emballages 10 : {{nb_print_carton_10}}</h3>
            </div>
          </div>
          <div class="col-md-5  main-card mb-2 card " style="margin-left: 2%;  margin-top: 1%;     ">
            <div width="100%" style="text-align: center; margin-top: 6%; margin-bottom: 10%; ">
              <img src='{{ "./../../assets/images/" + val_led + ".png" }}' width="70px" height="70px" />
              <h1 style="color: red;">{{nb}}</h1>
            </div>
            <h3> Gamme : {{val_led }} </h3>
            <h3> Culot : {{ val_e}} </h3>
            <h3> Puissance : {{val_w}}</h3>
            <h3> couleur : {{val_k}} </h3>
            <div class="row ">
               
              <div class="font-icon-wrapper col-md-5" (click)="imprimer()"><i class="pe-7s-print"> </i>
                <p>Imprimer</p>
              </div>
              <div class="font-icon-wrapper col-md-2"  >  
              </div> 
              <div class="font-icon-wrapper col-md-5" (click)="reset()"><i class="pe-7s-refresh-2"> </i>
                <p>Reset</p>
              </div>
            </div>
          </div>
        </div>
        

      </div>
      <div class="col-md-6">
        <div class="row">
          <div id="non-printable" class="col-md-12" style="margin-top: -5%;margin-bottom: 5%;">
            <div width="100%" style="text-align: center; margin-top: 1%;  ">
              <img src="./../../assets/images/sess-save.png" width="50px" height="50px" />
              <h2>{{nom_agent}} </h2>
            </div>
          </div>

          <div id="printable" class="bc_image col-md-12"  >

            <svg width="400px" height="170px" viewBox="0 0 1000 300">
              <text x="260" y="30" font-family="Verdana" font-size="45" font-weight="bold">
                Lampe LED : {{val_led}}
              </text>
              <image [attr.xlink:href]="src_img" x="0" y="90" height="180px" width="250px" /> 
              <g>
                <rect x="260" y="90" width="280" height="200" stroke="black" fill="transparent" stroke-width="4">
                </rect>
                <text x="280" y="200" font-family="Verdana" font-size="50" font-weight="bold">{{val_w}}W</text>
              </g>
              <g>
                <rect x="560" y="120" width="290" height="140" stroke="black" fill="transparent" stroke-width="2">
                </rect>
                <text x="580" y="200" font-family="Verdana" font-size="50"  >{{val_k}}K</text>
                <text x="580" y="320" font-family="Verdana" font-size="30">Qte : {{nb+1}}</text>
                <text x="80" y="330" font-family="Verdana" font-size="40" font-weight="bold">
                  E{{val_e}} 
                </text>
              </g> 
            </svg>
            <div class="row"> 
                <ngx-qrcode [value]="info" [width]="width_qr" style="display: inline; margin-left: 6%; "></ngx-qrcode>
                <ngx-barcode [bc-value]="value_code" [bc-display-value]="true" [bc-width]="width" [bc-height]="height"
                  style="display: inline; margin-left: 0%;"></ngx-barcode> 
            </div> 

          </div>
        
        </div>
      </div>
    </div>
  </div>
</div>